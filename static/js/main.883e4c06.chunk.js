(this["webpackJsonpcards-nya"]=this["webpackJsonpcards-nya"]||[]).push([[0],{107:function(e,t,a){e.exports={login:"Login_login__1NqhM",rememberMe:"Login_rememberMe__1lr5L",error:"Login_error__14-O5"}},134:function(e,t,a){e.exports={container:"ForgotPassword_container__26ACj",error:"ForgotPassword_error__3xppo"}},136:function(e,t,a){e.exports={container:"Cards_container__2myC_",addButton:"Cards_addButton__37f7W"}},172:function(e,t,a){e.exports={header:"Header_header__3xS8R"}},173:function(e,t,a){},174:function(e,t,a){e.exports={profile:"Profile_profile__3k0ZH"}},175:function(e,t,a){e.exports={inputContainer:"Input_inputContainer__2rvjo"}},176:function(e,t,a){e.exports={button:"Button_button__3zEY0"}},178:function(e,t,a){e.exports={register:"Register_register__2no2n"}},208:function(e,t,a){e.exports=a(387)},213:function(e,t,a){},214:function(e,t,a){},387:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(15),o=a.n(c),u=(a(213),a(214),a(28)),l=a(172),s=a.n(l),i=a(17),d=a(173),m=a.n(d),p=a(174),f=a.n(p),b=function(){return r.a.createElement("div",{className:f.a.profile})},E=a(109),h=a(107),g=a.n(h),O=a(175),v=a.n(O),k=r.a.memo((function(e){return r.a.createElement("div",{className:v.a.inputContainer},r.a.createElement("input",{type:e.type,placeholder:e.placeholder,value:e.value,onChange:function(t){e.onChangeFunc(t.currentTarget.value)}}))})),_=a(176),j=a.n(_),y=function(e){return r.a.createElement("button",{className:j.a.button,onClick:e.onClickFunc},e.name)},w=a(23),C=a(38),R=a.n(C),S=R.a.create({baseURL:"https://cards-nya-back.herokuapp.com/1.0/auth"}),N=function(e){return S.post("/login",e).then((function(e){return e.data}))},x={email:"",name:"",token:"",error:"",isAuth:!1},A=function(e){return{type:"SET-IS-AUTH",isAuth:e}},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER-LOGIN":return Object(w.a)(Object(w.a)({},e),t.userData);case"SET-ERROR":return Object(w.a)(Object(w.a)({},e),{},{error:t.error});case"SET-IS-AUTH":return Object(w.a)(Object(w.a)({},e),{},{isAuth:t.isAuth});case"SET-TOKEN":return Object(w.a)(Object(w.a)({},e),{},{token:t.token});default:return e}},T=a(22),P=function(){var e=Object(n.useState)(""),t=Object(E.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(""),u=Object(E.a)(o,2),l=u[0],s=u[1],d=Object(n.useState)(!1),m=Object(E.a)(d,2),p=m[0],f=m[1],b=Object(T.b)(),h=Object(T.c)((function(e){return e.login.error})),O=Object(T.c)((function(e){return e.login.isAuth})),v=document.cookie;Object(n.useEffect)((function(){v&&b(A(!0))}),[v,b]);var _=Object(n.useCallback)((function(e){f(e.currentTarget.checked)}),[f]),j=Object(n.useCallback)((function(){var e;console.log({email:a,password:l,rememberMe:p}),b((e={email:a,password:l,rememberMe:p},function(t){N(e).then((function(e){e.success&&(t({type:"USER-LOGIN",userData:{email:e.email,name:e.name,token:e.token}}),t(A(!0)),document.cookie="token=".concat(e.token))})).catch((function(e){t({type:"SET-ERROR",error:e.response.data.error}),t(A(!1))}))}))}),[a,l,p,b]);return O?r.a.createElement(i.a,{to:"/profile"}):r.a.createElement("div",{className:g.a.login},r.a.createElement("div",null,"Sign In"),r.a.createElement(k,{type:"email",placeholder:"Login",onChangeFunc:c,value:a}),r.a.createElement(k,{type:"password",placeholder:"Password",onChangeFunc:s,value:l}),h&&r.a.createElement("span",{className:g.a.error},h),r.a.createElement("div",{className:g.a.rememberMe},r.a.createElement("input",{type:"checkbox",onChange:_,checked:p}),r.a.createElement("span",null,"remember me")),r.a.createElement(y,{name:"Login",onClickFunc:j}))},I=a(3),L=a(178),U=a.n(L),G=R.a.create({baseURL:"https://cards-nya-back.herokuapp.com/1.0/"}),D=function(e){return G.post("auth/register",e)},M="cards-nya/auth/REGISTER",B={email:"",isAdmin:!1,_id:""},H=function(e){return function(t){D(e).then((function(e){var a;!0===e.data.success?t((a=e.data.addedUser,{type:M,addedUser:a})):alert("some error")})).catch((function(e){alert("error")}))}},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return Object(w.a)(Object(w.a)({},e),t.addedUser);default:return e}},q=function(){var e=Object(n.useState)(""),t=Object(I.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(""),u=Object(I.a)(o,2),l=u[0],s=u[1],i=Object(n.useState)(""),d=Object(I.a)(i,2),m=d[0],p=d[1],f=Object(T.b)();return r.a.createElement("div",{className:U.a.register},r.a.createElement(k,{type:"text",placeholder:"e-mail",value:a,onChangeFunc:c}),r.a.createElement(k,{type:"password",placeholder:"Password",value:l,onChangeFunc:s}),r.a.createElement(k,{type:"password",placeholder:"Repeat password",value:m,onChangeFunc:p}),r.a.createElement(y,{name:"Register",onClickFunc:function(){l===m?(f(H({email:a,password:l})),c(""),s(""),p("")):alert("\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442")}}))},K=a(134),J=a.n(K),Q=a(135),Z=R.a.create({baseURL:"https://cards-nya-back.herokuapp.com/1.0/auth"}),z=function(e){return Z.post("/forgot",e).then((function(e){return e.data}))},X={success:!1,error:""},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER-LOGIN":return Object(Q.a)({},e,{success:t.success});case"SET-ERROR":return Object(Q.a)({},e,{error:t.error});default:return e}},$=function(){var e=Object(n.useState)(""),t=Object(I.a)(e,2),a=t[0],c=t[1],o=Object(T.b)(),u=Object(T.c)((function(e){return e.forgotPassword.error})),l=Object(T.c)((function(e){return e.forgotPassword.success})),s=Object(n.useCallback)((function(){o(function(e){return function(t){z({email:e,html1:"<a href='http://localhost:3000/cards-nya#/forgot-password/'",html2:">reset-password</a>"}).then((function(e){e.success&&t({type:"USER-LOGIN",success:e.success})})).catch((function(e){t({type:"SET-ERROR",error:e.response.data.error})}))}}(a))}),[a,o]);return l?r.a.createElement(i.a,{to:"/set-new-password"}):r.a.createElement("div",{className:J.a.container},r.a.createElement("div",null,"Forgot Password"),r.a.createElement(k,{onChangeFunc:c,value:a,type:"email",placeholder:"your e-mail"}),u&&r.a.createElement("span",{className:J.a.error},u),r.a.createElement(y,{name:"Send",onClickFunc:s}))},V=(a(236),a(389)),ee=R.a.create({baseURL:"https://cards-nya-back.herokuapp.com/1.0/"}),te=function(){return ee.get("cards/pack?".concat(document.cookie,"&pageCount=30"))},ae={cardPacks:[]},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"cards-nya/auth/LOADING_PACKS_OF_CARDS":return Object(w.a)(Object(w.a)({},e),{},{cardPacks:t.allPacksCards});default:return e}},re=function(){var e=Object(T.c)((function(e){return e.packsOfCards.cardPacks})),t=Object(T.b)();Object(n.useEffect)((function(){t((function(e){return te().then((function(t){e({type:"cards-nya/auth/LOADING_PACKS_OF_CARDS",allPacksCards:t.data.cardPacks}),document.cookie="token=".concat(t.data.token)}))}))}),[]);var a=[{title:"Name",dataIndex:"name",key:"name"},{title:"Created",dataIndex:"created"},{title:"Updated",dataIndex:"update"},{title:r.a.createElement("button",null,"ADD"),dataIndex:"buttons"}],c=e.map((function(e){return{key:e._id,name:r.a.createElement(u.b,{to:"".concat(he,"/cards/").concat(e._id)},e.name),created:e.created,update:e.updated,buttons:r.a.createElement("div",null,r.a.createElement("button",null,"update"),r.a.createElement("button",null,"delete"))}}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(V.a,{columns:a,dataSource:c}))},ce=a(74),oe=a.n(ce),ue=function(e){return r.a.createElement("div",{className:oe.a.container},r.a.createElement("div",{className:oe.a.header},e.columns.map((function(e,t){return r.a.createElement("div",{key:t},e.title)}))),r.a.createElement("div",{className:oe.a.rows},e.items.map((function(t){return r.a.createElement("div",{key:t._id,className:oe.a.row},e.columns.map((function(e,a){return r.a.createElement("div",{key:a,className:oe.a.cell},e.render(t))})))}))))},le=R.a.create({baseURL:"https://cards-nya-back.herokuapp.com/1.0"}),se=function(e){return le.get("/cards/card?cardsPack_id=".concat(e,"&").concat(document.cookie)).then((function(e){return e.data}))},ie={cards:[]},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET-CARDS":return Object(w.a)(Object(w.a)({},e),{},{cards:t.cards});default:return e}},me=a(136),pe=a.n(me),fe=function(e){return r.a.createElement("div",{style:{display:"flex",justifyContent:"space-around",width:"100%"}},r.a.createElement(y,{name:"update",onClickFunc:function(){}}),r.a.createElement(y,{name:"delete",onClickFunc:function(){}}))},be=[{title:"Question",render:function(e){return r.a.createElement("span",null,e.question)}},{title:"Answer",render:function(e){return r.a.createElement("span",null,e.answer)}},{title:"Grade",render:function(e){return r.a.createElement("span",null,e.grade)}},{title:"Edit",render:function(e){return r.a.createElement(fe,{id:e._id})}}],Ee=Object(i.f)((function(e){var t=Object(T.c)((function(e){return e.cards.cards})),a=e.match.params.packId,c=Object(T.b)();return Object(n.useEffect)((function(){var e;c((e=a,function(t){se(e).then((function(e){t({type:"GET-CARDS",cards:e.cards}),document.cookie="token=".concat(e.token)})).catch((function(e){console.log(e)}))}))}),[a,c]),r.a.createElement("div",{className:pe.a.container},r.a.createElement("div",{className:pe.a.addButton},r.a.createElement(y,{name:"Add Card",onClickFunc:function(){}})),r.a.createElement(ue,{columns:be,items:t}))})),he="/packs-table",ge="".concat(he,"/cards/:packId?"),Oe=function(){return r.a.createElement("div",{className:m.a.routes},r.a.createElement(i.b,{path:"/profile",render:function(){return r.a.createElement(b,null)}}),r.a.createElement(i.b,{path:"/login",render:function(){return r.a.createElement(P,null)}}),r.a.createElement(i.b,{path:"/register",render:function(){return r.a.createElement(q,null)}}),r.a.createElement(i.b,{path:"/forgot-password",render:function(){return r.a.createElement($,null)}}),r.a.createElement(i.b,{exact:!0,path:he,render:function(){return r.a.createElement(re,null)}}),r.a.createElement(i.b,{path:ge,render:function(){return r.a.createElement(Ee,null)}}))},ve=function(){return r.a.createElement("div",{className:s.a.header},r.a.createElement(u.b,{to:"/profile"},"Profile"),r.a.createElement(u.b,{to:"/login"},"Login"),r.a.createElement(u.b,{to:"/register"},"Register"),r.a.createElement(u.b,{to:"/forgot-password"},"Forgot Password"),r.a.createElement(u.b,{to:he},"Cards Table"))},ke=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(ve,null),r.a.createElement(Oe,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _e=a(71),je=a(202),ye={},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;return t.type,e},Ce=Object(_e.c)({profile:we,login:F,register:W,forgotPassword:Y,packsOfCards:ne,cards:de}),Re=Object(_e.d)(Ce,Object(_e.a)(je.a));o.a.render(r.a.createElement(u.a,null,r.a.createElement(T.a,{store:Re},r.a.createElement(r.a.StrictMode,null,r.a.createElement(ke,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},74:function(e,t,a){e.exports={container:"Table_container__1ZrIg",header:"Table_header__2qWCm",rows:"Table_rows__3b0vG",row:"Table_row__3oxbf",cell:"Table_cell__2QXtC"}}},[[208,1,2]]]);
//# sourceMappingURL=main.883e4c06.chunk.js.map